(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{117:function(e,t,a){e.exports=a.p+"static/media/logo.36a7a887.png"},118:function(e,t,a){e.exports={main:"Main_main__1uSPf"}},143:function(e,t,a){e.exports=a(299)},15:function(e,t,a){e.exports={div_logo:"Header_div_logo__oPtWM",logo:"Header_logo__1Pn2b",title:"Header_title__2ca23",form:"Header_form__lBKOx",input:"Header_input__ltXiN",btn:"Header_btn__2dqbL"}},298:function(e,t,a){},299:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(50),c=a.n(o),i=a(52),s=a(37),u=a.n(s),l=a(76),p=a(114),m=a(115),f=a(131),_=a(116),d=a(132),g=a(303),v=a(117),h=a.n(v),y=a(15),b=a.n(y),O=function(e){var t=e.searchFunc,a=e.input,n=e.inputFunc,o=e.sortByYear,c=e.sortByRating;return r.a.createElement("div",{className:b.a.main},r.a.createElement("div",{className:b.a.div_logo},r.a.createElement("img",{className:b.a.logo,src:h.a,alt:"Fox"}),r.a.createElement("h2",{className:b.a.title},"My FoX Film")),r.a.createElement("form",{className:b.a.form,onSubmit:t},r.a.createElement("input",{className:b.a.input,type:"text",placeholder:"Enter movie name...",value:a,onChange:n}),r.a.createElement("button",{type:"submit",className:b.a.btn},"Search"),r.a.createElement("button",{className:b.a.btn,onClick:o},"Sort by date"),r.a.createElement("button",{className:b.a.btn,onClick:c},"Sort by rating")))},E=a(53),R=a.n(E),F=function(e){var t=e.el;return r.a.createElement("div",{className:R.a.card},r.a.createElement("img",{className:R.a.img,src:"".concat("https://image.tmdb.org/t/p/w600_and_h900_bestv2").concat(t.poster_path),alt:t.title}),r.a.createElement("h2",null,t.title),r.a.createElement("h3",null,"Average rating: ",t.vote_average),r.a.createElement("h3",null,"Release date:"," ",t.release_date.split("-").reverse().join(".")),r.a.createElement("p",null,r.a.createElement("span",{className:R.a.bold},"Overview: "),t.overview))},N=a(118),w=a.n(N),B=function(e){var t=e.data;return r.a.createElement("div",{className:w.a.main},t?t.map(function(e){return r.a.createElement(F,{key:Math.random(),el:e})}):r.a.createElement("h1",null,"Loading..."))},Y=a(77),S=a.n(Y);var j=function(e){return function(t){return function(e){return S.a.get("https://api.themoviedb.org/3/movie/top_rated?api_key=5874acfd11651a28c55771624f7021f4&language=en-US&page=".concat(e))}(e).then(function(e){return t({type:"GET_FILM_ACTION",payload:e.data})}).catch(function(e){return console.error(e)})}},I=function(e,t){return function(a){return function(e,t){return S.a.get("https://api.themoviedb.org/3/search/movie?api_key=5874acfd11651a28c55771624f7021f4&language=en-US&query=".concat(e,"&page=").concat(t,"&include_adult=false"))}(e,t).then(function(e){return a({type:"SEARCH_FILM_ACTION",payload:e.data})}).catch(function(e){return console.error(e)})}},T=a(54),A=a.n(T),k=function(e){function t(){var e,a;Object(p.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(f.a)(this,(e=Object(_.a)(t)).call.apply(e,[this].concat(r)))).state={num:1,input:"",sortYearFlag:!0,sortRatingFlag:!0},a.componentDidMount=function(){a.props.fetchFilm(a.state.num)},a.inputFunc=function(){var e=Object(l.a)(u.a.mark(function e(t){return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.setState({input:t.target.value,num:1});case 2:a.state.input||a.props.fetchFilm(a.state.num);case 3:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),a.clickFunc=function(){var e=Object(l.a)(u.a.mark(function e(t){var n;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.target.text,e.next=3,a.setState({num:+n});case 3:a.state.input?a.props.searchFilm(a.state.input,a.state.num):a.props.fetchFilm(a.state.num);case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),a.sortByYear=function(e){e.preventDefault(),a.state.sortYearFlag?a.props.sortByYearUp(a.props.data.info):a.props.sortByYearDown(a.props.data.info),a.setState(function(e){return{sortYearFlag:!e.sortYearFlag}})},a.sortByRating=function(e){e.preventDefault(),a.state.sortRatingFlag?a.props.sortByRatingUp(a.props.data.info):a.props.sortByRatingDown(a.props.data.info),a.setState(function(e){return{sortRatingFlag:!e.sortRatingFlag}})},a.searchFunc=function(e){e.preventDefault(),a.setState({num:1}),a.props.searchFilm(a.state.input,a.state.num)},a}return Object(d.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(O,{sortByRating:this.sortByRating,sortByYear:this.sortByYear,searchFunc:this.searchFunc,input:this.state.input,inputFunc:this.inputFunc}),r.a.createElement(B,{data:this.props.data.info}),r.a.createElement("div",{className:A.a.pagination},r.a.createElement(g.a,{onPageChange:this.clickFunc,activePage:+this.state.num,totalPages:+this.props.data.pages,ellipsisItem:null,firstItem:null,lastItem:null,prevItem:null,nextItem:null,boundaryRange:1})),r.a.createElement("footer",{className:A.a.footer},r.a.createElement("h2",{className:A.a.info},"\xa9 Kolya Rashchuk \u2709 raschyk1993@gmail.com")))}}]),t}(n.Component),x=Object(i.b)(function(e){return{data:e.filmList}},function(e){return{fetchFilm:function(t){return e(j(t))},searchFilm:function(t,a){return e(I(t,a))},sortByYearUp:function(t){return e({type:"SORT_BY_YEAR_UP",payload:t})},sortByYearDown:function(t){return e({type:"SORT_BY_YEAR_DOWN",payload:t})},sortByRatingUp:function(t){return e({type:"SORT_BY_RATING_UP",payload:t})},sortByRatingDown:function(t){return e({type:"SORT_BY_RATING_DOWN",payload:t})}}})(k);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var C=a(20),D=a(129),M=a(130),U=a(38),P=a(23);var W=Object(C.combineReducers)({filmList:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_FILM_ACTION":var a=t.payload.results,n=t.payload.total_pages;return Object(P.a)({},e,{info:a,pages:n});case"SEARCH_FILM_ACTION":var r=t.payload.results,o=t.payload.total_pages;return Object(P.a)({},e,{info:r,pages:o});case"SORT_BY_YEAR_UP":var c=Object(U.a)(t.payload).sort(function(e,t){return Number.parseInt(e.release_date)-Number.parseInt(t.release_date)});return Object(P.a)({},e,{info:c});case"SORT_BY_YEAR_DOWN":console.log("work");var i=Object(U.a)(t.payload).sort(function(e,t){return Number.parseInt(t.release_date)-Number.parseInt(e.release_date)});return Object(P.a)({},e,{info:i});case"SORT_BY_RATING_UP":var s=Object(U.a)(t.payload).sort(function(e,t){return e.vote_average-t.vote_average});return Object(P.a)({},e,{info:s});case"SORT_BY_RATING_DOWN":var u=Object(U.a)(t.payload).sort(function(e,t){return t.vote_average-e.vote_average});return Object(P.a)({},e,{info:u});default:return e}}}),H=Object(C.applyMiddleware)(D.a),L=Object(M.composeWithDevTools)(H),G=Object(C.createStore)(W,L);a(297),a(298);c.a.render(r.a.createElement(i.a,{store:G},r.a.createElement(x,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},53:function(e,t,a){e.exports={card:"Card_card__3y9Yd",img:"Card_img__UWYdR",bold:"Card_bold__317SE"}},54:function(e,t,a){e.exports={pagination:"App_pagination__1uTx9",footer:"App_footer__3MtVO",info:"App_info__2CI0f"}}},[[143,1,2]]]);
//# sourceMappingURL=main.00843aec.chunk.js.map